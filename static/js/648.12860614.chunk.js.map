{"version":3,"file":"static/js/648.12860614.chunk.js","mappings":"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","sources":["layouts/admin/WorkForce.jsx"],"sourcesContent":["//data format from columns be in list\r\nimport React, { useEffect, useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { Row, Col } from \"react-bootstrap\";\r\nimport { AiOutlinePlus } from \"react-icons/ai\";\r\nimport { BiFilterAlt, BiSearch } from \"react-icons/bi\";\r\nimport {\r\n  AddEmployee,\r\n  BulkUpload,\r\n  CustomButton,\r\n  InputSearch,\r\n  WorkforceColumns,\r\n} from \"../../components\";\r\n\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { deleteUserData, get_Employees } from \"../../store\";\r\nimport { employees_clearErrors } from \"../../store/Actions/employees_actions\";\r\n\r\nconst WorkforceContainer = styled.div`\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  flex-direction: column;\r\n  .header {\r\n    width: 80%;\r\n    height: auto;\r\n    .common-row {\r\n      height: auto;\r\n      margin: 10px 0px;\r\n      padding: 0px;\r\n    }\r\n    .title {\r\n      display: flex;\r\n      @media screen and (max-width: 528px) {\r\n        justify-content: center;\r\n      }\r\n    }\r\n    .responsive-button {\r\n      display: flex;\r\n      justify-content: end;\r\n      @media screen and (max-width: 776px) {\r\n        flex-direction: column;\r\n      }\r\n    }\r\n    .margin-button {\r\n      margin-right: 10px;\r\n      @media screen and (max-width: 776px) {\r\n        margin-bottom: 5px;\r\n      }\r\n    }\r\n    .margin-top-responsive {\r\n      @media screen and (max-width: 776px) {\r\n        margin-top: 5px;\r\n      }\r\n    }\r\n    .filtersearch {\r\n      display: flex;\r\n      align-items: center;\r\n      margin-left: 10px;\r\n      @media screen and (max-width: 455px) {\r\n        display: flex;\r\n        justify-content: center;\r\n      }\r\n      .search-has {\r\n        position: absolute;\r\n        margin-left: 10px;\r\n        color: #979797;\r\n      }\r\n    }\r\n    .filterbutton {\r\n      display: flex;\r\n      justify-content: end;\r\n      @media screen and (max-width: 776px) {\r\n        justify-content: center;\r\n      }\r\n    }\r\n  }\r\n  .body {\r\n    width: 79%;\r\n    display: flex;\r\n    align-items: start;\r\n    justify-content: start;\r\n    @media screen and (max-width: 776px) {\r\n    }\r\n  }\r\n`;\r\n\r\nconst WorkForce = ({ data }) => {\r\n  const dispatch = useDispatch();\r\n  const { employees, loading, employees_error } = useSelector(\r\n    (state) => state.employees\r\n  );\r\n  let temp = [];\r\n\r\n  const [search, setSearch] = useState(\"\");\r\n  const [filterResults, setFilterResults] = useState(employees);\r\n\r\n  const [isShowAddEmployeeModal, setShowAddEmployeeModal] = useState(false);\r\n  const [isBulkUpload, setBulkUpload] = useState(false);\r\n\r\n  const [editValue, setEditValue] = useState([]);\r\n  const [trigger, setTrigger] = useState(\"\");\r\n  const [id, setId] = useState(0);\r\n\r\n  const filter = () => {\r\n    const result = employees.filter((list) => {\r\n      return list.first_name.toLowerCase().match(search.toLowerCase());\r\n    });\r\n    setFilterResults(result);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (employees_error) {\r\n      console.log(employees_error);\r\n      dispatch(employees_clearErrors());\r\n    }\r\n    dispatch(get_Employees(data.company_name));\r\n  }, [dispatch]);\r\n\r\n  useEffect(() => {\r\n    setFilterResults(employees);\r\n  }, [employees]);\r\n\r\n  const handleEdit = (\r\n    id,\r\n    first_name,\r\n    last_name,\r\n    department,\r\n    designation,\r\n    contact_num,\r\n    group,\r\n    email\r\n  ) => {\r\n    const data = {\r\n      id: id,\r\n      first_name: first_name,\r\n      last_name: last_name,\r\n      department: department,\r\n      designation: designation,\r\n      contact_num: contact_num,\r\n      group: group,\r\n      email: email,\r\n    };\r\n    setTrigger(\"isEdit\");\r\n    setEditValue(data);\r\n    setId(id);\r\n    setShowAddEmployeeModal(true);\r\n  };\r\n  const handleDelete = (id) => {\r\n    dispatch(deleteUserData(id));\r\n  };\r\n\r\n  return (\r\n    <WorkforceContainer>\r\n      <Row className=\"header\">\r\n        <Row className=\"common-row\">\r\n          <Col className=\"title\">\r\n            <h1>WorkForce</h1>\r\n          </Col>\r\n          <Col className={\"responsive-button\"}>\r\n            <CustomButton\r\n              type={\"normal textnormal margin-button\"}\r\n              width=\"180px\"\r\n              height=\"40px\"\r\n              onClick={() => {\r\n                setTrigger(\"isAdd\");\r\n                setShowAddEmployeeModal(true);\r\n              }}\r\n            >\r\n              <AiOutlinePlus fontSize={\"1.2rem\"} /> Add New Employee\r\n            </CustomButton>\r\n            <CustomButton\r\n              type={\"normal textnormal margin-button\"}\r\n              width=\"120px\"\r\n              height=\"40px\"\r\n              onClick={() => {\r\n                setBulkUpload(true);\r\n              }}\r\n            >\r\n              <AiOutlinePlus fontSize={\"1.2rem\"} /> Bulk Add\r\n            </CustomButton>\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"common-row\">\r\n          <Col className=\"filtersearch\">\r\n            <BiSearch className=\"search-has\" fontSize={\"1.2rem\"} />\r\n\r\n            <InputSearch\r\n              placeholder={`Search`}\r\n              value={search}\r\n              onChange={(e) => setSearch(e.target.value)}\r\n            />\r\n          </Col>\r\n          <Col className=\"filterbutton\">\r\n            <CustomButton\r\n              type={\"normal textnormal margin-button margin-top-responsive\"}\r\n              width=\"120px\"\r\n              height=\"40px\"\r\n              onClick={() => {\r\n                filter();\r\n              }}\r\n            >\r\n              <BiFilterAlt /> Filter\r\n            </CustomButton>\r\n          </Col>\r\n        </Row>\r\n      </Row>\r\n      <Row className=\"body\">\r\n        <WorkforceColumns\r\n          handleDelete={(id) => {\r\n            handleDelete(id);\r\n          }}\r\n          handleEdit={(\r\n            id,\r\n            first_name,\r\n            last_name,\r\n            department,\r\n            designation,\r\n            contact_num,\r\n            group,\r\n            email\r\n          ) => {\r\n            handleEdit(\r\n              id,\r\n              first_name,\r\n              last_name,\r\n              department,\r\n              designation,\r\n              contact_num,\r\n              group,\r\n              email\r\n            );\r\n          }}\r\n          rows={!loading ? filterResults : temp}\r\n          pending={loading}\r\n        />\r\n      </Row>\r\n\r\n      {/* Modals */}\r\n      <AddEmployee\r\n        show={isShowAddEmployeeModal}\r\n        onHide={() => {\r\n          setShowAddEmployeeModal(false);\r\n        }}\r\n        trigger={trigger}\r\n        value_input={editValue}\r\n        id={id}\r\n        company_name={data.company_name}\r\n      />\r\n      <BulkUpload\r\n        show={isBulkUpload}\r\n        onHide={() => {\r\n          setBulkUpload(false);\r\n        }}\r\n      />\r\n    </WorkforceContainer>\r\n  );\r\n};\r\n\r\nexport default WorkForce;\r\n"],"names":["WorkforceContainer","styled","data","dispatch","useDispatch","useSelector","state","employees","loading","employees_error","useState","search","setSearch","filterResults","setFilterResults","isShowAddEmployeeModal","setShowAddEmployeeModal","isBulkUpload","setBulkUpload","editValue","setEditValue","trigger","setTrigger","id","setId","useEffect","console","log","employees_clearErrors","get_Employees","company_name","className","type","width","height","onClick","fontSize","placeholder","value","onChange","e","target","result","filter","list","first_name","toLowerCase","match","handleDelete","deleteUserData","handleEdit","last_name","department","designation","contact_num","group","email","rows","pending","show","onHide","value_input"],"sourceRoot":""}